<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<style>
	td{
		text-align : center;
		
	}
	#td1{
		width : 200px;
		height : 200px;
	}
	select{
		width : 100%;
		height : 100%;
	}
	
</style>
<script>
	window.onload = function(){
		form = document.self;
		form.data.focus();
	}
	function add(){
		// 입력한값 가져오기
		datavalue = form.data.value;
		
		if(datavalue.trim().length > 0){
			// option태그 만들기 <option value="값">값</option>
			// value와 text속성 설정
			opt = document.createElement('option');
			opt.value = datavalue;
			opt.text = datavalue;
		}
		// left에 추가
		form.left.appendChild(opt);
		form.data.value = "";
		form.data.focus();
		
	}
	function toRight(){ //왼쪽에서 오른쪽으로 보내기
		// 왼쪽에서 한개를 선택
		idx = form.left.selectedIndex;
		console.log("idx = " + idx);
		// 선택한 항목이 없으면 메세지창 띄우기
		if(idx < 0){
			alert("항목을 선택하세요");
			return;
		}
		// 왼쪽에서 선택한 index번째의 값을 가져온다 
		lvalue = form.left.options[idx].value;
		// option태그를 생성
		opt = document.createElement('option');
		// value, text를 생성
		opt.value = lvalue; 		
		opt.text = lvalue; 		
		// 오른쪽에 option태그를 추가
		form.right.appendChild(opt);
		// 왼쪽에서는 삭제
		form.left.removeChild(form.left.options[idx]);
	}
	
	function RightAll(){ //왼쪽에서 오른쪽으로 보내기
		// 왼쪽의 전부
		len = form.left.length;
		// 갯수만큼 반복
		for (i = 0; i < len; i++) {
			// 왼쪽에서 차례대로 값을 가져온다 
			lvalue = form.left.options[i].value;
			// option태그를 생성
			opt = document.createElement('option');
			// value, text를 생성
			opt.value = lvalue; 		
			opt.text = lvalue; 		
			// 오른쪽에 option태그를 추가
			form.right.appendChild(opt);
		}
		// 왼쪽에서는 갯수만큼 삭제
		for(i = 0; i < len; i++) {
			form.left.removeChild(form.left.options[0]);
		}
	}
	
	function toLeft(){ // 오른쪽에서 왼쪽으로 보내기
		// 오른쪽에서 한개를 선택
		idx = form.right.selectedIndex;
		console.log("idx = " + idx);
		// 선택한 항목이 없으면 메세지창 띄우기
		if(idx < 0){
			alert("항목을 선택하세요");
			return;
		}
		// 오른쪽에서 선택한 index번째의 값을 가져온다 
		lvalue = form.right.options[idx].value;
		// option태그를 생성
		opt = document.createElement('option');
		// value, text를 생성
		opt.value = lvalue; 		
		opt.text = lvalue; 		
		// 왼쪽에 option태그를 추가
		form.left.appendChild(opt);
		// 오른쪽에서는 삭제
		form.right.removeChild(form.right.options[idx]);
	}
	
	function LeftAll(){ // 오른쪽에서 왼쪽으로 보내기
		// 오른쪽의 전부
		len = form.right.length;
		// 갯수만큼 반복
		for (i = 0; i < len; i++) {
			// 오른쪽에서 차례대로 값을 가져온다 
			lvalue = form.right.options[i].value;
			// option태그를 생성
			opt = document.createElement('option');
			// value, text를 생성
			opt.value = lvalue; 		
			opt.text = lvalue; 		
			// 왼쪽에 option태그를 추가
			form.left.appendChild(opt);
		}
		// 오른쪽에서는 갯수만큼 삭제
		for(i = 0; i < len; i++) {
			form.right.removeChild(form.right.options[0]);
		}
	}
	
</script>
</head>
<body>

<div class="box">
	<h3>form문제3</h3>
	<br>
	
	<form name="self">
	<table border="1">
		<tr>
			<td colspan="3">
			<h2>select객체 예제</h2>
			</td>
		</tr>
		
		<tr>
		<td id="td1">
		<select name="left" multiple="multiple" size=10>
		</select>
		</td>
		
		<td id="td1">
		<input type="button" value=">" onclick="toRight()"><br>
		<input type="button" value=">>" onclick="RightAll()"><br>
		<input type="button" value="<" onclick="toLeft()"><br>
		<input type="button" value="<<" onclick="LeftAll()"><br>
		</td>
		
		<td id="td1">
		<select name="right" multiple="multiple" size=10>
		</select>
		</td>
		
		</tr>
		
		<tr>
			<td colspan="3">
				<input type="text" name="data">
				<input type="button" value="추가하기" onclick="add()">
			</td>
		</tr>
	</table>
</form>	
</div>
</body>
</html>